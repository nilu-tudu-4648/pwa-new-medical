(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{25012:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Screens/Tutorial/TutorialScreen",function(){return i(94928)}])},37760:function(e,t,i){"use strict";var a=i(85893);i(67294);var l=i(41664),r=i.n(l);t.Z=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"treatment-main-container",children:[(0,a.jsx)("div",{children:(0,a.jsx)(r(),{href:"/",children:(0,a.jsx)("img",{src:"/back-arrow.svg",alt:"back-arrow",width:20,height:20,className:"treatment-topBar-back-button"})})}),(0,a.jsx)("div",{className:"treatment_display_text_container",children:(0,a.jsx)("h1",{children:"Upload Chart"})})]})})}},94928:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var a=i(85893),l=i(67294),r=i(46066),s=i(5121);i(84640),i(19678);var n=i(48273),o=i(21737),c=i(93946),d=i(50594);let u=e=>{let{handleFileInputClick:t,setOpen:i,setErrorMessage:r,userId:n}=e,[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(null),[p,h]=(0,l.useState)(0),[m,g]=(0,l.useState)(!1),[x,f]=(0,l.useState)(""),j=e=>{let t=e.target.files[0];t&&v(t)?(c(t),u(null)):(c(null),u("Invalid file type"))},v=e=>["application/zip","application/pdf"].includes(e.type),y=async()=>{if(o)try{g(!0),h(0);let e=new FormData;e.append("file",o);let t=await s.Z.post("".concat("https://mercurial-api.nirmitee.io/api","/upload-file/").concat(n),e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let t=Math.round(e.loaded/e.total*100);h(t)}});g(!1),h(0),f(t.data.url),c(null),200===t.status&&(r("File uploaded successfully"),i(!0),setTimeout(()=>{window.location.href="/profile"},500))}catch(e){g(!1),u(e.message)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"file-upload-container",children:[(0,a.jsxs)("div",{onClick:t,children:[(0,a.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},accept:".zip,.pdf",onChange:j}),(0,a.jsx)("div",{className:"file-upload-icon",children:(0,a.jsx)("img",{src:"/upload.svg",alt:"file-upload-icon"})}),o&&(0,a.jsx)("p",{children:o.name}),!o&&(0,a.jsx)("p",{children:"Select file and upload it. Accepted file formats: ZIP, PDF"})]}),(0,a.jsx)("button",{className:"upload-button",onClick:y,disabled:m,children:"Upload Chart"}),d&&(0,a.jsx)("div",{className:"error",style:{paddingTop:"10px",paddingBottom:"10px"},children:d}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"File uploading..."}),(0,a.jsx)("p",{style:{color:"gray"},children:"(Please wait)"})]}),p>0&&(0,a.jsxs)("progress",{value:p,max:"100",children:[p,"%"]})]})})};i(37760);var p=function(){let e=localStorage.getItem("token"),[t,i]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[m,g]=(0,l.useState)(""),[x,f]=(0,l.useState)(null),[j,v]=(0,l.useState)({}),y=null==j?void 0:j._id;(0,l.useEffect)(()=>{let t=async()=>{try{let t=await s.Z.get("".concat("https://mercurial-api.nirmitee.io/api","/user"),{headers:{Authorization:"Bearer ".concat(e)}});if(200===t.status){let e=t.data;v(e)}else console.error("Error fetching user data")}catch(e){console.error("Error fetching user data:",e)}};e?t():router.push("/login")},[x]);let S=()=>{document.getElementById("fileInput").click()},N=()=>{h(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"tutorial-slider ".concat(t?"hide-upper":""),children:(0,a.jsx)(r.Z,{dots:!0,infinite:!1,speed:100,slidesToShow:1,slidesToScroll:1,children:[{imgSrc:"/tutorial-iphone.svg",title:"If your hospital has a patient application, navigate to that application",description:"If your hospital does not have a patient application, please contact your hospitalâ€™s medical record department for instructions"},{imgSrc:"/tutorial-image2.svg",title:"Navigate to Request Medical Records on your account page"},{imgSrc:"/tutorial-image3.svg",title:"Select the appropriate hospital site"},{imgSrc:"/tutorial-image3.svg",title:"Send the records to yourself and select a date range that encompasses your date of diagnosis through now"},{imgSrc:"/tutorial-image4.svg",title:"Select all information, excluding Hospital Bills"},{imgSrc:"/tutorial-image5.svg",title:"Select all information, excluding Hospital Bills"}].map((e,t)=>(0,a.jsxs)("div",{className:"tutorialScreen_main_container",children:[(0,a.jsx)("div",{className:"lightblue-container-tutorial",children:(0,a.jsx)("img",{src:e.imgSrc,alt:"slide-".concat(t)})}),(0,a.jsxs)("div",{className:"text-container-tutorial",children:[(0,a.jsx)("h5",{children:e.title}),(0,a.jsx)("p",{children:e.description})]})]},t))})}),(0,a.jsxs)("div",{className:"tutorial-skip-container ".concat(t?"hide-upper":""),children:[(0,a.jsx)("div",{className:"tutorial-skip-inner-container",onClick:()=>i(!0),children:(0,a.jsx)("h6",{children:"Skip, I already have my Medical Chart"})}),(0,a.jsx)("div",{className:"tutorial-skip-inner-container",children:(0,a.jsx)("p",{children:"Only you or your personal representative has the right to request your medical chart. We cannot request your medical chart on your behalf."})})]})]}),t&&(0,a.jsxs)("div",{className:"lower-div-animation",children:[(0,a.jsxs)("div",{className:"lightblue-container-tutorial-2",children:[(0,a.jsx)("div",{className:"tutorial-blue-circle",children:(0,a.jsx)("img",{src:"/document-tutorial.svg",alt:"document-tutorial"})}),(0,a.jsx)("p",{children:"In a few days, your requested records will appear within your hospitals patient portal application."})]}),(0,a.jsx)("div",{className:"tutorial-blue-circle-text"}),(0,a.jsx)(u,{userId:y,handleFileInputClick:S,setOpen:h,setErrorMessage:g})]}),(0,a.jsx)(n.Z,{open:p,autoHideDuration:4e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsx)(o.Z,{elevation:6,variant:"filled",onClose:N,severity:"success",style:{backgroundColor:"#378B29",color:"white",display:"flex",alignItems:"center",width:"100%"},action:(0,a.jsx)(c.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:N,style:{marginLeft:"auto",marginRight:-8},children:(0,a.jsx)(d.Z,{fontSize:"small"})}),children:m})})]})}}},function(e){e.O(0,[664,121,171,824,278,774,888,179],function(){return e(e.s=25012)}),_N_E=e.O()}]);